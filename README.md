# Med Image Analysis Service

## Обзор
Этот модуль выполняет сегментацию изображений с использованием моделей MONAI и NiftyNet и предоставляет веб-интерфейс для предсказаний через приложение Flask.

## Этапы работы:

1. **Импорт и настройка**:
   - Импортируются необходимые библиотеки
   - Загружаются модели MONAI и NiftyNet.

2. **Определение трансформаций**:
   - Определены преобразования изображений с использованием `Compose` из MONAI, включая загрузку, преобразование каналов, масштабирование интенсивности и конвертацию в тензор.

3. **Инициализация моделей**:
   - Инициализируется 3D U-Net модель из MONAI и загружается с предобученными весами.
   - Также инициализируется приложение сегментации NiftyNet с заданными параметрами.

4. **Инициализация базы данных**:
   - Создается база данных SQLite (если не существует) для сохранения результатов предсказаний.

5. **Приложение Flask**:
   - В Flask приложении два маршрута:
     - `"/"`: Отображает главную страницу.
     - `"/predict"`: Обрабатывает POST-запросы для выполнения предсказаний на загруженных изображениях.

6. **Обработка предсказаний**:
   - Загруженное изображение преобразуется и передается через модель MONAI для предсказания.
   - То же изображение обрабатывается приложением NiftyNet.
   - Результаты предсказаний обеих моделей сохраняются в базе данных и возвращаются в виде JSON-ответа.

7. **Запуск приложения**:
   - Flask приложение запускается на указанном хосте и порте.


### MONAI

**Описание**:
MONAI (Medical Open Network for AI) — фреймворк с открытым исходным кодом для исследований в области медицинского ИИ, особенно в обработке медицинских изображений.

**Модель UNet**:
UNet — сверточная нейронная сеть для сегментации медицинских изображений, особенно 3D данных, таких как МРТ.

**Как обучена**:
UNet обучена на медицинских наборах данных, использует аугментации и кросс-валидацию для точной сегментации анатомических структур.

### NiftyNet

**Описание**:
NiftyNet — платформа для анализа медицинских изображений с использованием глубокого обучения.

**Модель SegmentationApplication**:
Использует UNet и другие архитектуры для сегментации 3D изображений.

**Как обучена**:
Модели обучены на медицинских изображениях с предобработкой и аугментацией данных, позволяя адаптировать их к различным задачам.


## Требования

- Python 3.x
- Виртуальное окружение
- Установленные библиотеки из файла `requirements.txt`

## Установка и запуск

### Шаг 1: Клонирование репозитория

Клонируйте репозиторий на свой локальный компьютер:


git clone https://github.com/potashka/med-image-analysis.git
cd med-image-analysis

### Шаг 2: Создание и активация виртуального окружения
Создайте виртуальное окружение и активируйте его:


python -m venv myenv
myenv\Scripts\activate  # Для Windows
# source myenv/bin/activate  # Для Linux/Mac

### Шаг 3: Установка зависимостей
Установите необходимые библиотеки:

pip install -r requirements.txt


### Шаг 4: Запуск приложения
Запустите Flask приложение:

python app.py